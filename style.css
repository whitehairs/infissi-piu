/* InfissiPiu - Mobile stable v3 (white & blue) */
/* Production-ready: stable canvas scaling, responsive tables, print-friendly */

:root{
  --bg:#ffffff; --panel:#fff; --accent:#0b66ff; --muted:#375569; --border:#e6f3ff;
  --radius:10px; --pad:12px; --maxw:900px; --mono: "Roboto Mono", monospace;
}
*{box-sizing:border-box}
html,body{height:100%}
body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background:var(--bg); margin:0; color:#072033; -webkit-font-smoothing:antialiased;}
.app{max-width:var(--maxw); margin:6px auto; padding:10px;}
.topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px}
.title h1{margin:0;font-size:18px;color:var(--accent);line-height:1}
.title .muted{margin:0;color:var(--muted);font-size:12px}
.actions{display:flex;gap:6px}
.btn{background:var(--accent);color:#fff;border:none;padding:8px 10px;border-radius:8px;cursor:pointer;font-size:15px}
.btn.outline{background:transparent;color:var(--accent);border:1px solid var(--accent)}
.btn.primary{box-shadow:0 6px 18px rgba(11,102,255,0.08)}

/* layout */
.container{display:grid;grid-template-columns:1fr;gap:10px}
.card{background:var(--panel);padding:var(--pad);border-radius:var(--radius);box-shadow:0 6px 18px rgba(7,32,51,0.04);border:1px solid var(--border)}
.form-grid{display:grid;grid-template-columns:repeat(2,minmax(120px,1fr));gap:8px}
label{font-size:13px;color:var(--muted);display:block}
input[type=number], select{width:100%;padding:9px;border-radius:8px;border:1px solid #dbeeff;background:#fbfdff;font-size:15px}
.form-actions{margin-top:10px;display:flex;gap:8px;flex-wrap:wrap}

/* canvas */
.canvas-wrap{width:100%;overflow:hidden}
canvas{display:block;border-radius:8px;border:1px solid #e6f3ff;background:#fff;max-width:100%;height:auto}

/* tables */
.table-wrap{width:100%;overflow:auto;-webkit-overflow-scrolling:touch}
.summary table, .details table{width:100%;border-collapse:collapse;font-family:var(--mono);font-size:14px}
.summary th, .summary td, .details th, .details td{padding:8px;border-bottom:1px solid #f1f8ff;text-align:left}
.summary th{background:linear-gradient(90deg, rgba(11,102,255,0.06), transparent);color:var(--muted);width:45%}
.details th{background:#f7fbff;color:var(--muted)}

/* log */
.logpre{background:#071225;color:#9ff4c8;padding:10px;border-radius:8px;overflow:auto;height:100px;font-family:var(--mono);font-size:13px}

/* larger screens */
@media(min-width:720px){
  .form-grid{grid-template-columns:repeat(4,minmax(140px,1fr));}
  .container{grid-template-columns:1fr 420px; grid-auto-rows:min-content}
  .drawing{grid-column: 1 / 3}
  .logpre{height:120px}
}

/* mobile tweaks */
@media (max-width:420px){
  .form-grid{grid-template-columns:repeat(2,minmax(100px,1fr));gap:6px}
  .title h1{font-size:17px}
  .btn{font-size:14px;padding:9px 10px}
  .logpre{height:88px}
  .summary th, .details th, .summary td, .details td{font-size:13px;padding:6px}
}

/* print */
@media print{
  body{background:#fff;color:#000}
  .topbar .actions, .form-actions, #logCard, footer {display:none !important}
  .card{box-shadow:none;border:none}
  /* canvas is replaced at print time by script-inserted image */
  canvas{display:none !important}
  .table-wrap{overflow:visible}
}
